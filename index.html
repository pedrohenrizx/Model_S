<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevSphere — Rede Social Colaborativa para Desenvolvedores</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.14/dist/full.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script type="text/javascript" src="https://unpkg.com/parse/dist/parse.min.js"></script>
    <style>
        /* Small custom */
        .glass {
            background: rgba(255,255,255,0.06);
            backdrop-filter: blur(6px);
            -webkit-backdrop-filter: blur(6px);
        }
        [data-theme="dark"] .glass {
            background: rgba(10,10,10,0.45);
        }
        .fade-up {
            transform: translateY(12px);
            opacity: 0;
            transition: all .6s cubic-bezier(.2,.8,.2,1);
        }
        .fade-up.in {
            transform: translateY(0);
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-base-100 to-base-200 min-h-screen antialiased text-base-content">
    <!-- NAVBAR -->
    <header class="sticky top-0 z-40">
        <nav class="w-full px-4 md:px-8 lg:px-16 py-3 bg-gradient-to-r from-primary to-secondary shadow-lg">
            <div class="max-w-7xl mx-auto flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="avatar">
                        <div class="w-12 h-12 rounded-full bg-gradient-to-r from-accent to-primary flex items-center justify-center text-white shadow-lg transform hover:scale-105 transition-all">
                            <i class="fa-solid fa-globe fa-lg"></i>
                        </div>
                    </div>
                    <div>
                        <a class="font-bold text-white text-lg md:text-2xl flex items-baseline gap-2" href="#" data-page="home" id="brandBtn">
                            <span>DevSphere</span>
                            <span class="badge badge-sm badge-accent ml-1">Open • Free</span>
                        </a>
                        <p class="text-xs text-white/80 hidden md:block">Colaboração · Aprendizado · Open-source</p>
                    </div>
                </div>

                <div class="hidden md:flex items-center gap-4">
                    <ul class="menu menu-horizontal px-1 text-white">
                        <li><a class="nav-link text-sm" data-page="home"><i class="fa-solid fa-house-chimney mr-2"></i>Home</a></li>
                        <li><a class="nav-link text-sm" data-page="features"><i class="fa-solid fa-list-check mr-2"></i>Funcionalidades</a></li>
                        <li><a class="nav-link text-sm" data-page="projects"><i class="fa-solid fa-diagram-project mr-2"></i>Projetos</a></li>
                        <li><a class="nav-link text-sm" data-page="mentoria"><i class="fa-solid fa-hands-helping mr-2"></i>Mentoria</a></li>
                        <li><a class="nav-link text-sm" data-page="hackathons"><i class="fa-solid fa-rocket-launch mr-2"></i>Hackathons</a></li>
                        <li><a class="nav-link text-sm" data-page="recursos"><i class="fa-solid fa-book-open-reader mr-2"></i>Recursos</a></li>
                        <li><a class="nav-link text-sm" data-page="contato"><i class="fa-solid fa-envelope mr-2"></i>Contato</a></li>
                    </ul>
                </div>

                <div class="flex items-center gap-3">
                    <button id="themeToggle" class="btn btn-ghost btn-sm text-white"><i class="fa-solid fa-moon"></i></button>
                    <button id="openSignup" class="btn btn-primary btn-sm text-white"><i class="fa-solid fa-user-plus mr-2"></i>Entrar / Criar Conta</button>

                    <div class="dropdown dropdown-end md:hidden">
                        <label tabindex="0" class="btn btn-ghost btn-square text-white"><i class="fa-solid fa-bars"></i></label>
                        <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
                            <li><a class="nav-link" data-page="home">Home</a></li>
                            <li><a class="nav-link" data-page="features">Funcionalidades</a></li>
                            <li><a class="nav-link" data-page="projects">Projetos</a></li>
                            <li><a class="nav-link" data-page="mentoria">Mentoria</a></li>
                            <li><a class="nav-link" data-page="hackathons">Hackathons</a></li>
                            <li><a class="nav-link" data-page="recursos">Recursos</a></li>
                            <li><a class="nav-link" data-page="contato">Contato</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- MAIN CONTENT (will be swapped by JS) -->
    <main id="mainContent" class="max-w-7xl mx-auto px-4 md:px-8 lg:px-16 py-10">
        <!-- HERO (default Home content injected by script as well to allow swapping) -->
    </main>

    <!-- FOOTER -->
    <footer class="mt-12 border-t border-base-300">
        <div class="max-w-7xl mx-auto px-6 py-10 grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
                <div class="flex items-center gap-3">
                    <div class="w-14 h-14 rounded-full bg-gradient-to-r from-accent to-primary flex items-center justify-center text-white shadow-lg">
                        <i class="fa-solid fa-code-branch fa-lg"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold">DevSphere</h3>
                        <p class="text-sm text-muted">Uma rede colaborativa e gratuita para desenvolvedores.</p>
                    </div>
                </div>
                <div class="mt-4">
                    <p class="text-sm">Doações voluntárias • Parcerias éticas • Crowdfunding comunitário</p>
                </div>
            </div>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <h4 class="font-semibold mb-2">Plataforma</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a class="link link-hover" data-page="features">Funcionalidades</a></li>
                        <li><a class="link link-hover" data-page="projects">Projetos</a></li>
                        <li><a class="link link-hover" data-page="recursos">Recursos</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-2">Comunidade</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a class="link link-hover" data-page="mentoria">Mentoria</a></li>
                        <li><a class="link link-hover" data-page="hackathons">Hackathons</a></li>
                        <li><a class="link link-hover" data-page="contato">Contato</a></li>
                    </ul>
                </div>
            </div>
            <div>
                <h4 class="font-semibold mb-2">Siga-nos</h4>
                <div class="flex items-center gap-3 mb-3">
                    <a class="btn btn-square btn-ghost" aria-label="github" href="#"><i class="fa-brands fa-github"></i></a>
                    <a class="btn btn-square btn-ghost" aria-label="twitter" href="#"><i class="fa-brands fa-x-twitter"></i></a>
                    <a class="btn btn-square btn-ghost" aria-label="discord" href="#"><i class="fa-brands fa-discord"></i></a>
                    <a class="btn btn-square btn-ghost" aria-label="youtube" href="#"><i class="fa-brands fa-youtube"></i></a>
                </div>
                <p class="text-xs text-muted">© <span id="footerYear"></span> DevSphere. Plataforma gratuita — sem anúncios, sem assinaturas.</p>
            </div>
        </div>
    </footer>

    <!-- Signup Modal (inline, toggled) -->
    <div id="signupModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/40" id="signupBackdrop"></div>
        <div class="relative max-w-3xl w-full bg-base-100 rounded-xl shadow-2xl overflow-hidden glass">
            <div class="grid grid-cols-1 md:grid-cols-2">
                <div class="p-8 bg-gradient-to-r from-primary to-secondary text-white">
                    <h3 class="text-2xl md:text-3xl font-bold">Junte-se à DevSphere</h3>
                    <p class="mt-2 text-sm md:text-base text-white/90">Crie sua conta gratuitamente, contribua para projetos open-source, participe de sprints e hackathons.</p>
                    <div class="mt-6 space-y-3">
                        <div class="badge badge-lg badge-accent">Sem anúncios</div>
                        <div class="badge badge-lg badge-secondary">Totalmente gratuita</div>
                        <div class="badge badge-lg badge-success">Comunidade inclusiva</div>
                    </div>
                    <div class="mt-6">
                        <button id="modalCloseTop" class="btn btn-ghost btn-sm text-white"><i class="fa-solid fa-arrow-left mr-2"></i>Voltar</button>
                    </div>
                </div>
                <div class="p-6">
                    <form id="signupForm" class="space-y-4">
                        <div>
                            <label class="label"><span class="label-text">Nome</span></label>
                            <input required type="text" id="name" class="input input-bordered w-full focus:input-primary" placeholder="Seu nome completo / nickname">
                        </div>
                        <div>
                            <label class="label"><span class="label-text">Email</span></label>
                            <input required type="email" id="email" class="input input-bordered w-full focus:input-primary" placeholder="email@exemplo.com">
                        </div>
                        <div>
                            <label class="label"><span class="label-text">Bio curta</span></label>
                            <input type="text" id="bio" class="input input-bordered w-full" placeholder="Full-stack | Python | Open Source">
                        </div>
                        <div>
                            <label class="label"><span class="label-text">Principais skills (separe por vírgula)</span></label>
                            <input type="text" id="skills" class="input input-bordered w-full" placeholder="javascript,react,python">
                        </div>
                        <div class="flex items-center justify-between gap-2">
                            <div class="form-control">
                                <label class="label cursor-pointer">
                                    <input type="checkbox" id="mentor" class="checkbox checkbox-primary mr-2">
                                    <span class="label-text">Disponível para mentoria</span>
                                </label>
                            </div>
                            <div class="text-right">
                                <button type="submit" class="btn btn-primary"><i class="fa-solid fa-check mr-2"></i>Gravar</button>
                            </div>
                        </div>
                        <p class="text-xs text-muted">Seus dados serão salvos no Realtime Database (Firebase) e registrados no Back4App para fins de sincronização da comunidade.</p>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Toasts / Alerts -->
    <div id="toastContainer" class="fixed bottom-6 right-6 space-y-3 z-50"></div>

    <!-- Scripts -->
    <script>
        // Initialization: Parse (Back4App)
        Parse.initialize("9ZcO8UyWa6YeydcMgqcyZ0bRW64zbNAPxfzFqALF", "xSBua4iOGNbYc80jQB3mxBA4WdtHwWc8pm2JnxC6");
        Parse.serverURL = 'https://parseapi.back4app.com/';

        // Firebase Realtime base URL
        const FIREBASE_BASE = 'https://booksdev-3de79-default-rtdb.firebaseio.com';

        // Utility: toast
        function toast(message, type='info') {
            const colors = {
                info: 'bg-base-200 text-base-content',
                success: 'bg-green-500 text-white',
                error: 'bg-red-500 text-white'
            };
            const el = document.createElement('div');
            el.className = `toast ${colors[type]} shadow-lg px-4 py-3 rounded-md`;
            el.innerHTML = `<div class="flex items-center gap-3"><div class="flex-1">${message}</div><button class="btn btn-ghost btn-sm">OK</button></div>`;
            el.querySelector('button').addEventListener('click', ()=> el.remove());
            document.getElementById('toastContainer').appendChild(el);
            setTimeout(()=> { el.remove(); }, 7000);
        }

        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        themeToggle.addEventListener('click', () => {
            const html = document.documentElement;
            const cur = html.getAttribute('data-theme') || 'light';
            const next = cur === 'light' ? 'dark' : 'light';
            html.setAttribute('data-theme', next);
            document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
        });

        // Modal controls
        const signupModal = document.getElementById('signupModal');
        const openSignupBtn = document.getElementById('openSignup');
        const modalCloseTop = document.getElementById('modalCloseTop');
        const signupBackdrop = document.getElementById('signupBackdrop');

        function openModal() {
            signupModal.classList.remove('hidden');
            signupModal.classList.add('flex');
        }
        function closeModal() {
            signupModal.classList.remove('flex');
            signupModal.classList.add('hidden');
            document.getElementById('signupForm').reset();
        }
        openSignupBtn.addEventListener('click', openModal);
        modalCloseTop.addEventListener('click', closeModal);
        signupBackdrop.addEventListener('click', closeModal);

        // Signup form submit -> save to Firebase RTDB and Back4App
        document.getElementById('signupForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const bio = document.getElementById('bio').value.trim();
            const skillsStr = document.getElementById('skills').value.trim();
            const mentor = document.getElementById('mentor').checked;
            if (!name || !email) {
                toast('Por favor preencha nome e email.', 'error');
                return;
            }
            const skills = skillsStr ? skillsStr.split(',').map(s => s.trim()).filter(Boolean) : [];

            const payload = {
                name, email, bio, skills, mentor, createdAt: new Date().toISOString()
            };

            try {
                // Firebase RTDB (PUT with uid)
                const uid = 'u_' + Date.now() + '_' + Math.random().toString(36).slice(2,8);
                const url = `${FIREBASE_BASE}/users/${uid}.json`;
                await fetch(url, {
                    method: 'PUT',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(payload)
                });

                // Back4App (Parse)
                const DevUser = Parse.Object.extend("DevSphereUser");
                const devUser = new DevUser();
                devUser.set("name", name);
                devUser.set("email", email);
                devUser.set("bio", bio);
                devUser.set("skills", skills);
                devUser.set("mentor", mentor);
                devUser.set("externalUid", uid);
                await devUser.save();

                toast('Usuário salvo com sucesso na DevSphere!', 'success');
                closeModal();
            } catch (err) {
                console.error(err);
                toast('Erro ao salvar usuário. Tente novamente.', 'error');
            }
        });

        // Page contents as templates (mobile-first, responsive)
        const templates = {
            home: `
                <section class="rounded-xl overflow-hidden shadow-2xl bg-gradient-to-r from-accent to-primary text-white p-6 md:p-12 lg:p-20">
                    <div class="md:flex md:items-center md:justify-between gap-8">
                        <div class="md:flex-1">
                            <h1 class="text-4xl md:text-6xl font-bold leading-tight">DevSphere — A Rede Social Colaborativa para Desenvolvedores</h1>
                            <p class="mt-4 text-base md:text-lg text-white/90 max-w-2xl">Crie, colabore e aprenda. Projetos open-source, sprints colaborativas, mentoria peer-to-peer e hackathons — 100% gratuito e sem anúncios.</p>
                            <div class="mt-6 flex flex-col sm:flex-row gap-3">
                                <button class="btn btn-primary btn-lg" id="ctaJoin"><i class="fa-solid fa-handshake mr-2"></i>Comece a colaborar — Grátis</button>
                                <a class="btn btn-ghost btn-lg text-white/90" href="#" id="ctaLearn"><i class="fa-solid fa-circle-info mr-2"></i>Saiba Mais</a>
                            </div>
                            <div class="mt-6 grid grid-cols-2 md:grid-cols-3 gap-3">
                                <div class="stat glass p-4 rounded-lg">
                                    <div class="stat-title text-white/80">Membros</div>
                                    <div class="stat-value text-white text-2xl">+12.4k</div>
                                    <div class="stat-desc text-white/70">Crescendo diariamente</div>
                                </div>
                                <div class="stat glass p-4 rounded-lg">
                                    <div class="stat-title text-white/80">Projetos</div>
                                    <div class="stat-value text-white text-2xl">+3.2k</div>
                                    <div class="stat-desc text-white/70">Open-source ativos</div>
                                </div>
                                <div class="stat glass p-4 rounded-lg">
                                    <div class="stat-title text-white/80">Hackathons</div>
                                    <div class="stat-value text-white text-2xl">28</div>
                                    <div class="stat-desc text-white/70">Últimos 12 meses</div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-8 md:mt-0 md:w-1/3">
                            <div class="mockup-code bg-white text-black rounded-lg shadow-xl overflow-hidden">
                                <div class="px-4 py-6">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 rounded-md bg-primary flex items-center justify-center text-white"><i class="fa-solid fa-code"></i></div>
                                        <div>
                                            <div class="text-sm font-semibold">Projeto: OpenAI-Chat-Plugin</div>
                                            <div class="text-xs text-muted">Sprint: Integração de auth · Responsável: @maria</div>
                                        </div>
                                    </div>
                                    <pre class="mt-4 text-sm"><code>// Participe do sprint
git clone https://github.com/devsphere/example
git checkout -b feat/sprint-progress
</code></pre>
                                    <div class="mt-4 flex gap-2">
                                        <button class="btn btn-outline btn-sm">Ver Projeto</button>
                                        <button class="btn btn-primary btn-sm" id="ctaJoinSprint">Participar do Sprint</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    ${featureCard('Espaço de Projetos', 'Crie e participe de projetos open-source com painel de progresso visual.', 'fa-diagram-project')}
                    ${featureCard('Fóruns Temáticos', 'Discussões por tecnologia e gamificação para incentivar boas contribuições.', 'fa-comments')}
                    ${featureCard('Mentoria Peer-to-Peer', 'Conecte-se com mentores e aprendizes automaticamente.', 'fa-hands-helping')}
                    ${featureCard('Hackathons Virtuais', 'Competições regulares com projetos públicos e colaborativos.', 'fa-rocket-launch')}
                    ${featureCard('Biblioteca de Recursos', 'Tutoriais, artigos e vídeos avaliados pela comunidade.', 'fa-book-open')}
                    ${featureCard('Reconhecimento & Networking', 'Perfis, recomendações e badges por contribuições.', 'fa-award')}
                </section>

                <section class="mt-10">
                    <div class="rounded-xl p-6 bg-gradient-to-r from-primary to-secondary text-white shadow-lg">
                        <div class="md:flex md:items-center md:justify-between">
                            <div>
                                <h3 class="text-2xl font-bold">Sempre gratuito — Sem assinaturas</h3>
                                <p class="mt-2 text-white/90">Nossa missão é manter a DevSphere acessível. Você terá acesso completo a todas as funcionalidades sem custos.</p>
                            </div>
                            <div class="mt-4 md:mt-0">
                                <button class="btn btn-accent" id="ctaDonate"><i class="fa-solid fa-hand-holding-heart mr-2"></i>Doar (Opcional)</button>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="mt-8">
                    <h3 class="text-xl font-bold mb-4">Planos (Transparente)</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="card border hover:scale-105 transition-all transform">
                            <div class="card-body">
                                <h4 class="card-title">Gratuito</h4>
                                <p class="text-muted">Acesso completo às funcionalidades principais.</p>
                                <div class="mt-4 space-y-2">
                                    <div class="flex items-center gap-2"><i class="fa-solid fa-check text-green-500"></i> Projetos open-source</div>
                                    <div class="flex items-center gap-2"><i class="fa-solid fa-check text-green-500"></i> Mentoria peer-to-peer</div>
                                    <div class="flex items-center gap-2"><i class="fa-solid fa-check text-green-500"></i> Hackathons e eventos</div>
                                </div>
                                <div class="card-actions justify-end mt-4">
                                    <button class="btn btn-outline" id="getFreeBtn">Começar — Gratuitamente</button>
                                </div>
                            </div>
                        </div>

                        <div class="card border-2 border-primary transform scale-105 shadow-2xl" aria-hidden>
                            <div class="card-body">
                                <h4 class="card-title">Comunitário (Patrocinado)</h4>
                                <p class="text-muted">Recursos patrocinados por parceiros para eventos específicos.</p>
                                <div class="mt-4 space-y-2">
                                    <div class="flex items-center gap-2"><i class="fa-solid fa-star text-yellow-400"></i> Patrocínios de Hackathons</div>
                                    <div class="flex items-center gap-2"><i class="fa-solid fa-users-line text-purple-400"></i> Workshops patrocinados</div>
                                </div>
                                <div class="card-actions justify-end mt-4">
                                    <button class="btn btn-primary">Saber Mais</button>
                                </div>
                            </div>
                        </div>

                        <div class="card border hover:scale-105 transition-all transform">
                            <div class="card-body">
                                <h4 class="card-title">Parceiros</h4>
                                <p class="text-muted">Visibilidade para empresas que apoiam a comunidade.</p>
                                <div class="mt-4">
                                    <div class="badge badge-outline">Eventos</div>
                                    <div class="badge badge-outline ml-2">Patrocínios</div>
                                </div>
                                <div class="card-actions justify-end mt-4">
                                    <button class="btn btn-ghost">Contato Comercial</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `,

            features: `
                <section class="rounded-lg p-6 bg-base-100 shadow-xl">
                    <h2 class="text-2xl md:text-3xl font-bold">Funcionalidades Principais</h2>
                    <p class="text-sm text-muted mt-2">Tudo pensado para facilitar colaboração e aprendizado contínuo.</p>

                    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${featureDetail('Espaço de Projetos Colaborativos', 'Classifique por linguagem, dificuldade e participe de sprints com painéis de progresso visuais.', 'fa-diagram-project')}
                        ${featureDetail('Fóruns Temáticos', 'Threads organizadas por tecnologia, com sistema de badges para contribuições úteis.', 'fa-comments')}
                        ${featureDetail('Mentoria Peer-to-Peer', 'Conexão automática entre mentores e aprendizes baseada em skills.', 'fa-hands-helping')}
                        ${featureDetail('Hackathons Virtuais', 'Eventos regulares com todos os projetos abertos e disponíveis para aprendizado.', 'fa-rocket-launch')}
                        ${featureDetail('Biblioteca Colaborativa', 'Recursos avaliados pela comunidade com sistema de tags e curadoria.', 'fa-book-open')}
                        ${featureDetail('Ética & Inclusão', 'Espaço dedicado para debates sobre ética, diversidade e sustentabilidade.', 'fa-handshake-angle')}
                    </div>
                </section>
            `,

            projects: `
                <section class="rounded-lg p-6 bg-gradient-to-r from-accent to-primary text-white shadow-xl">
                    <div class="md:flex md:items-center md:justify-between">
                        <div>
                            <h2 class="text-2xl md:text-3xl font-bold">Espaço de Projetos</h2>
                            <p class="mt-2 text-white/90">Crie, gerencie e convide colaboradores para sprints e issues com fácil visibilidade de progresso.</p>
                        </div>
                        <div class="mt-4 md:mt-0">
                            <button class="btn btn-success">Criar Novo Projeto</button>
                        </div>
                    </div>

                    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="card glass p-4 hover:scale-105 transition-all transform">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="font-semibold">Projeto: AI-Toolkit</h4>
                                    <p class="text-sm text-muted">Linguagens: Python, JS · Nível: Avançado</p>
                                </div>
                                <div class="text-right">
                                    <div class="radial-progress text-primary" style="--value:70">70%</div>
                                </div>
                            </div>
                            <div class="divider"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm">
                                <div class="badge badge-outline">Sprint atual: Integração</div>
                                <div class="badge badge-outline">Issues: 12 abertas</div>
                            </div>
                        </div>

                        <div class="card glass p-4 hover:scale-105 transition-all transform">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="font-semibold">Projeto: GameEngineJS</h4>
                                    <p class="text-sm text-muted">Linguagens: TypeScript · Nível: Intermediário</p>
                                </div>
                                <div class="text-right">
                                    <div class="radial-progress text-warning" style="--value:45">45%</div>
                                </div>
                            </div>
                            <div class="divider"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm">
                                <div class="badge badge-outline">Mentores: 3</div>
                                <div class="badge badge-outline">Última atualização: 2 dias</div>
                            </div>
                        </div>
                    </div>
                </section>
            `,

            mentoria: `
                <section class="rounded-lg p-6 bg-base-100 shadow-xl">
                    <h2 class="text-2xl md:text-3xl font-bold">Mentoria Peer-to-Peer</h2>
                    <p class="text-sm text-muted mt-2">Conectamos mentores e aprendizes automaticamente com base em interesses e skills.</p>

                    <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="card p-4 hover:scale-105 transition-all transform">
                            <div class="flex items-center gap-3">
                                <div class="avatar">
                                    <div class="w-12 h-12 rounded-full bg-primary text-white flex items-center justify-center">M</div>
                                </div>
                                <div>
                                    <div class="font-semibold">Mariana • Full-stack</div>
                                    <div class="text-sm text-muted">Mentoria: React, Node</div>
                                </div>
                            </div>
                            <div class="mt-4">
                                <button class="btn btn-outline btn-sm">Pedir Mentoria</button>
                            </div>
                        </div>

                        <div class="card p-4 hover:scale-105 transition-all transform">
                            <div class="flex items-center gap-3">
                                <div class="avatar">
                                    <div class="w-12 h-12 rounded-full bg-secondary text-white flex items-center justify-center">L</div>
                                </div>
                                <div>
                                    <div class="font-semibold">Lucas • IA</div>
                                    <div class="text-sm text-muted">Mentoria: ML, Data</div>
                                </div>
                            </div>
                            <div class="mt-4">
                                <button class="btn btn-outline btn-sm">Pedir Mentoria</button>
                            </div>
                        </div>

                        <div class="card p-4 hover:scale-105 transition-all transform">
                            <div class="flex items-center gap-3">
                                <div class="avatar">
                                    <div class="w-12 h-12 rounded-full bg-accent text-white flex items-center justify-center">R</div>
                                </div>
                                <div>
                                    <div class="font-semibold">Rafaela • DevOps</div>
                                    <div class="text-sm text-muted">Mentoria: CI/CD</div>
                                </div>
                            </div>
                            <div class="mt-4">
                                <button class="btn btn-outline btn-sm">Pedir Mentoria</button>
                            </div>
                        </div>
                    </div>
                </section>
            `,

            hackathons: `
                <section class="rounded-lg p-6 bg-gradient-to-r from-primary to-secondary text-white shadow-xl">
                    <h2 class="text-2xl md:text-3xl font-bold">Hackathons Virtuais</h2>
                    <p class="mt-2 text-white/90">Participe de desafios reais com equipes colaborativas — todos os projetos ficam públicos.</p>

                    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="card p-4 hover:scale-105 transition-all transform">
                            <h4 class="font-semibold">Desafio: Sustentabilidade Digital</h4>
                            <p class="text-sm text-muted">Inscrições abertas · Equipes de até 5</p>
                            <div class="mt-4">
                                <button class="btn btn-accent">Inscrever Equipe</button>
                            </div>
                        </div>
                        <div class="card p-4 hover:scale-105 transition-all transform">
                            <h4 class="font-semibold">Desafio: Automação Educacional</h4>
                            <p class="text-sm text-muted">Prêmios simbólicos · Visibilidade comunitária</p>
                            <div class="mt-4">
                                <button class="btn btn-accent">Ver Regras</button>
                            </div>
                        </div>
                    </div>
                </section>
            `,

            recursos: `
                <section class="rounded-lg p-6 bg-base-100 shadow-xl">
                    <h2 class="text-2xl md:text-3xl font-bold">Biblioteca de Recursos</h2>
                    <p class="mt-2 text-muted">Tutoriais, artigos e vídeos organizados por tags e avaliados pela comunidade.</p>

                    <div class="mt-6">
                        <div class="carousel carousel-center space-x-4 rounded-box">
                            <div class="carousel-item">
                                <div class="card p-4 w-72 hover:scale-105 transition-all transform">
                                    <h4 class="font-semibold">Guia React Moderno</h4>
                                    <p class="text-sm text-muted">Atualizado · 2025</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="card p-4 w-72 hover:scale-105 transition-all transform">
                                    <h4 class="font-semibold">Deploy com GitHub Actions</h4>
                                    <p class="text-sm text-muted">CI/CD · Exemplo prático</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="card p-4 w-72 hover:scale-105 transition-all transform">
                                    <h4 class="font-semibold">Introdução ao ML</h4>
                                    <p class="text-sm text-muted">Recursos para iniciantes</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `,

            contato: `
                <section class="rounded-lg p-6 bg-base-100 shadow-xl">
                    <h2 class="text-2xl md:text-3xl font-bold">Fale Conosco</h2>
                    <p class="mt-2 text-muted">Dúvidas, parcerias ou suporte técnico — envie uma mensagem.</p>

                    <form id="contactForm" class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="label"><span class="label-text">Nome</span></label>
                            <input id="contactName" type="text" class="input input-bordered w-full" placeholder="Seu nome">
                        </div>
                        <div>
                            <label class="label"><span class="label-text">Email</span></label>
                            <input id="contactEmail" type="email" class="input input-bordered w-full" placeholder="email@exemplo.com">
                        </div>
                        <div class="md:col-span-2">
                            <label class="label"><span class="label-text">Mensagem</span></label>
                            <textarea id="contactMessage" class="textarea textarea-bordered w-full" rows="4" placeholder="Como podemos ajudar?"></textarea>
                        </div>
                        <div class="md:col-span-2 text-right">
                            <button type="submit" class="btn btn-primary">Enviar Mensagem</button>
                        </div>
                    </form>
                </section>
            `
        };

        // Small helpers to generate feature cards
        function featureCard(title, desc, icon) {
            return `
                <div class="p-5 rounded-xl bg-white shadow hover:scale-105 transition-all transform">
                    <div class="flex items-start gap-4">
                        <div class="w-12 h-12 rounded-lg bg-gradient-to-r from-primary to-secondary text-white flex items-center justify-center">
                            <i class="fa-solid ${icon}"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold">${title}</h4>
                            <p class="text-sm text-muted mt-1">${desc}</p>
                            <div class="mt-3">
                                <span class="badge badge-outline">Colaboração</span>
                                <span class="badge badge-outline ml-2">Open-source</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function featureDetail(title, desc, icon) {
            return `
                <div class="p-6 rounded-lg bg-white shadow hover:scale-105 transition-all transform">
                    <div class="flex items-start gap-4">
                        <div class="w-12 h-12 rounded-lg bg-primary text-white flex items-center justify-center">
                            <i class="fa-solid ${icon}"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold">${title}</h4>
                            <p class="text-sm text-muted mt-1">${desc}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Inject initial home
        const main = document.getElementById('mainContent');
        function render(page) {
            main.innerHTML = templates[page] || templates.home;
            // add small fade-up effect
            setTimeout(()=> {
                main.querySelectorAll('section, .card, .stat, .mockup-code').forEach((el, i) => {
                    el.classList.add('fade-up');
                    setTimeout(()=> el.classList.add('in'), 80 * i);
                });
            }, 10);

            // Attach some button handlers for new content
            const ctaJoin = document.getElementById('ctaJoin');
            if (ctaJoin) ctaJoin.addEventListener('click', openModal);
            const getFreeBtn = document.getElementById('getFreeBtn');
            if (getFreeBtn) getFreeBtn.addEventListener('click', openModal);
            const ctaJoinSprint = document.getElementById('ctaJoinSprint');
            if (ctaJoinSprint) ctaJoinSprint.addEventListener('click', ()=> toast('Solicitação de participação enviada!'));
            const ctaDonate = document.getElementById('ctaDonate');
            if (ctaDonate) ctaDonate.addEventListener('click', ()=> toast('Obrigado pelo interesse em apoiar! (opcional)','info'));
            const ctaLearn = document.getElementById('ctaLearn');
            if (ctaLearn) ctaLearn.addEventListener('click', ()=> { render('features'); activateNav('features'); });

            // contact form handler
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const name = document.getElementById('contactName').value.trim();
                    const email = document.getElementById('contactEmail').value.trim();
                    const message = document.getElementById('contactMessage').value.trim();
                    if (!name || !email || !message) {
                        toast('Preencha todos os campos.', 'error');
                        return;
                    }
                    // Save message to Firebase and Parse simple
                    const payload = {name,email,message,createdAt:new Date().toISOString()};
                    try {
                        // firebase push
                        await fetch(\`\${FIREBASE_BASE}/messages/\${Date.now()}.json\`, {
                            method:'PUT', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload)
                        });
                        const Msg = Parse.Object.extend("ContactMessage");
                        const msgObj = new Msg();
                        msgObj.set('name', name);
                        msgObj.set('email', email);
                        msgObj.set('message', message);
                        await msgObj.save();
                        toast('Mensagem enviada. Obrigado!', 'success');
                        contactForm.reset();
                    } catch (err) {
                        console.error(err);
                        toast('Erro ao enviar mensagem.', 'error');
                    }
                });
            }
        }

        // Nav interactions: swap content without full page reload
        function activateNav(page) {
            document.querySelectorAll('.nav-link').forEach(n => {
                n.classList.toggle('active', n.getAttribute('data-page') === page);
            });
            // also highlight footer links if any
            document.querySelectorAll('[data-page]').forEach(el => {
                if (el.dataset.page === page) {
                    el.classList.add('text-primary');
                } else {
                    el.classList.remove('text-primary');
                }
            });
        }

        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const page = link.getAttribute('data-page');
                if (page) {
                    render(page);
                    activateNav(page);
                    window.scrollTo({top:0, behavior:'smooth'});
                }
            });
        });

        // Brand button behaves as home
        document.getElementById('brandBtn').addEventListener('click', (e)=> { e.preventDefault(); render('home'); activateNav('home'); });

        // Initial render
        render('home');
        activateNav('home');

        // Footer year
        document.getElementById('footerYear').textContent = new Date().getFullYear();

        // Make clickable footer links change page as well
        document.querySelectorAll('footer [data-page]').forEach(a => {
            a.addEventListener('click', (e) => {
                e.preventDefault();
                const p = a.getAttribute('data-page');
                render(p);
                activateNav(p);
                window.scrollTo({top:0, behavior:'smooth'});
            });
        });

        // Accessibility: close modal on ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (!signupModal.classList.contains('hidden')) closeModal();
            }
        });

        // Small: support clicking badges and items in-page to render "projects"
        document.addEventListener('click', (e)=> {
            const target = e.target.closest('[data-page]');
            if (target) {
                const p = target.getAttribute('data-page');
                if (p) {
                    render(p);
                    activateNav(p);
                    window.scrollTo({top:0, behavior:'smooth'});
                }
            }
        });
    </script>
</body>
</html>
